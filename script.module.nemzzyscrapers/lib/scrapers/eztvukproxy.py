import requestsimport reimport xbmcguiimport xbmcimport xbmcaddondialog = xbmcgui.Dialog()from bs4 import BeautifulSoupHeaders = {'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36' }from cloudscraper2 import CloudScraperCF = CloudScraper.create_scraper()class Scraper:	def __init__(self):		self.Base = ('https://eztv.unblockit.me/')		self.Search = ('search/%s')		self.links = []	def Index(self,type, term,year,imdb,torrents):		try:			year = year.strip()			MovieTitle = term			if type == 'TV':				term = term.replace(' ','-')				found = 0				Term = term.replace(' ','+').replace(':','')				link = CF.get(self.Base + self.Search %Term ,headers=Headers).content				soup = BeautifulSoup(link,'html.parser')				data = soup.find_all("td",  class_={'forum_thread_post'})				for i in data:					try:						foundname = i.a['title']						if MovieTitle.lower() in foundname.lower():							foundmag = i.a['href']							if 'magnet' in foundmag:								if '1080' in foundname:									qual = 'FHD'									quality = '6'								elif '720' in foundname:									qual = 'HD'									quality = '7'								elif 'hdtv' in foundname.lower():									qual = 'HD'									quality = '7'								else:									qual = 'SD'									quality = '8'								title = ('[COLOR yellow]EZTV ( Debrid ) | %s | %s[/COLOR]' % (qual,MovieTitle))								self.links.append({'title': title, 'url': foundmag, 'quality': quality, 'Debrid' : True, 'Direct' : False})					except: pass				return self.links			else: pass		except Exception as c:			xbmc.log("SCRAPER ERROR EZTVPROXIE  ::: %s" %c , level=xbmc.LOGNOTICE)